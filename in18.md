# Flutter Internationalization & Localization - 25 Essential Examples

This comprehensive guide covers Flutter internationalization (i18n) and  
localization (l10n) with 25 practical examples, from basic setup to advanced  
techniques. Each example demonstrates different aspects of creating  
multilingual apps that adapt to different locales, cultures, and regions.

## Basic Localization Setup

Setting up internationalization support with the intl package and  
basic locale configuration.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Basic Localization',
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en', 'US'), // English
        Locale('es', 'ES'), // Spanish
        Locale('fr', 'FR'), // French
        Locale('de', 'DE'), // German
      ],
      home: const HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  const HomePage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Basic Localization'),
      ),
      body: const Padding(
        padding: EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'System Locale Information',
              style: TextStyle(fontSize: 24, fontWeight: FontWeight.bold),
            ),
            SizedBox(height: 16),
            LocaleInfoWidget(),
          ],
        ),
      ),
    );
  }
}

class LocaleInfoWidget extends StatelessWidget {
  const LocaleInfoWidget({super.key});

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);
    
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text('Language Code: ${locale.languageCode}'),
            Text('Country Code: ${locale.countryCode ?? "N/A"}'),
            Text('Script Code: ${locale.scriptCode ?? "N/A"}'),
            Text('Full Locale: ${locale.toString()}'),
          ],
        ),
      ),
    );
  }
}
```

This basic setup enables Flutter's built-in localization support for  
Material Design components. The supportedLocales list defines which  
languages your app supports, while localizationsDelegates provide  
the translations for system UI elements like buttons and dialogs.  
The LocaleInfoWidget displays current locale information for debugging.

## Manual Locale Switching

Creating a language selector that allows users to manually change  
the app's language at runtime.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en', 'US');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Manual Locale Switching',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en', 'US'),
        Locale('es', 'ES'),
        Locale('fr', 'FR'),
        Locale('de', 'DE'),
        Locale('ja', 'JP'),
        Locale('zh', 'CN'),
      ],
      home: LanguageSwitcherPage(onLocaleChange: _changeLocale),
    );
  }
}

class LanguageSwitcherPage extends StatelessWidget {
  final Function(Locale) onLocaleChange;

  const LanguageSwitcherPage({
    super.key,
    required this.onLocaleChange,
  });

  static const Map<Locale, String> _localeNames = {
    Locale('en', 'US'): '🇺🇸 English',
    Locale('es', 'ES'): '🇪🇸 Español',
    Locale('fr', 'FR'): '🇫🇷 Français',
    Locale('de', 'DE'): '🇩🇪 Deutsch',
    Locale('ja', 'JP'): '🇯🇵 日本語',
    Locale('zh', 'CN'): '🇨🇳 中文',
  };

  @override
  Widget build(BuildContext context) {
    final currentLocale = Localizations.localeOf(context);
    
    return Scaffold(
      appBar: AppBar(
        title: const Text('Language Selector'),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Row(
                    children: [
                      Text(entry.value),
                      if (entry.key == currentLocale) ...[
                        const Spacer(),
                        const Icon(Icons.check, color: Colors.green),
                      ],
                    ],
                  ),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          children: [
            Card(
              child: ListTile(
                leading: const Icon(Icons.info),
                title: const Text('Current Locale'),
                subtitle: Text(
                  '${_localeNames[currentLocale] ?? currentLocale.toString()}\n'
                  'Language: ${currentLocale.languageCode}\n'
                  'Country: ${currentLocale.countryCode ?? "N/A"}',
                ),
              ),
            ),
            const SizedBox(height: 20),
            const Text(
              'Available Languages',
              style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            Expanded(
              child: ListView.builder(
                itemCount: _localeNames.length,
                itemBuilder: (context, index) {
                  final entry = _localeNames.entries.elementAt(index);
                  final isSelected = entry.key == currentLocale;
                  
                  return Card(
                    color: isSelected ? Colors.blue[50] : null,
                    child: ListTile(
                      leading: CircleAvatar(
                        child: Text(entry.value.split(' ')[0]),
                      ),
                      title: Text(entry.value.split(' ')[1]),
                      subtitle: Text(
                        'Code: ${entry.key.languageCode}-'
                        '${entry.key.countryCode}',
                      ),
                      trailing: isSelected
                          ? const Icon(Icons.check_circle, color: Colors.green)
                          : null,
                      onTap: () => onLocaleChange(entry.key),
                    ),
                  );
                },
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

The manual locale switching example demonstrates how to change the app's  
language dynamically. The _changeLocale callback updates the MaterialApp's  
locale property, triggering a rebuild with the new language. The popup  
menu provides an intuitive way for users to select their preferred  
language, with visual indicators showing the current selection.

## ARB File Translations

Using Application Resource Bundle (ARB) files for structured  
internationalization with generated code.  

First, create the ARB files in your project:

**lib/l10n/app_en.arb:**
```json
{
  "@@locale": "en",
  "appTitle": "My App",
  "@appTitle": {
    "description": "The title of the application"
  },
  "welcomeMessage": "Welcome to our app!",
  "@welcomeMessage": {
    "description": "Welcome message shown on the home screen"
  },
  "itemCount": "{count, plural, =0{No items} =1{1 item} other{{count} items}}",
  "@itemCount": {
    "description": "Number of items in the list",
    "placeholders": {
      "count": {
        "type": "int",
        "format": "compact"
      }
    }
  },
  "greetUser": "Hello {name}!",
  "@greetUser": {
    "description": "Greeting message for a user",
    "placeholders": {
      "name": {
        "type": "String",
        "example": "John"
      }
    }
  }
}
```

**lib/l10n/app_es.arb:**
```json
{
  "@@locale": "es",
  "appTitle": "Mi Aplicación",
  "welcomeMessage": "¡Bienvenido a nuestra aplicación!",
  "itemCount": "{count, plural, =0{Sin elementos} =1{1 elemento} other{{count} elementos}}",
  "greetUser": "¡Hola {name}!"
}
```

**pubspec.yaml configuration:**
```yaml
dependencies:
  flutter:
    sdk: flutter
  flutter_localizations:
    sdk: flutter
  intl: any

dev_dependencies:
  flutter_gen: ^5.3.2

flutter:
  generate: true

flutter_intl:
  enabled: true
```

**l10n.yaml:**
```yaml
arb-dir: lib/l10n
template-arb-file: app_en.arb
output-localization-file: app_localizations.dart
output-class: AppLocalizations
```

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'package:flutter_gen/gen_l10n/app_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'ARB Translations',
      localizationsDelegates: const [
        AppLocalizations.delegate,
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en'),
        Locale('es'),
        Locale('fr'),
        Locale('de'),
      ],
      home: const TranslationExample(),
    );
  }
}

class TranslationExample extends StatefulWidget {
  const TranslationExample({super.key});

  @override
  State<TranslationExample> createState() => _TranslationExampleState();
}

class _TranslationExampleState extends State<TranslationExample> {
  int _itemCount = 0;
  final TextEditingController _nameController = TextEditingController();

  @override
  void initState() {
    super.initState();
    _nameController.text = 'John';
  }

  @override
  void dispose() {
    _nameController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    final localizations = AppLocalizations.of(context)!;

    return Scaffold(
      appBar: AppBar(
        title: Text(localizations.appTitle),
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Card(
              child: Padding(
                padding: const EdgeInsets.all(16.0),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      localizations.welcomeMessage,
                      style: Theme.of(context).textTheme.headlineSmall,
                    ),
                    const SizedBox(height: 16),
                    TextField(
                      controller: _nameController,
                      decoration: const InputDecoration(
                        labelText: 'Name',
                        border: OutlineInputBorder(),
                      ),
                      onChanged: (_) => setState(() {}),
                    ),
                    const SizedBox(height: 16),
                    Text(
                      localizations.greetUser(_nameController.text),
                      style: const TextStyle(fontSize: 18),
                    ),
                  ],
                ),
              ),
            ),
            const SizedBox(height: 20),
            Card(
              child: Padding(
                padding: const EdgeInsets.all(16.0),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'Pluralization Example',
                      style: Theme.of(context).textTheme.titleLarge,
                    ),
                    const SizedBox(height: 16),
                    Text(
                      localizations.itemCount(_itemCount),
                      style: const TextStyle(fontSize: 18),
                    ),
                    const SizedBox(height: 16),
                    Row(
                      mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                      children: [
                        ElevatedButton(
                          onPressed: _itemCount > 0
                              ? () => setState(() => _itemCount--)
                              : null,
                          child: const Text('-'),
                        ),
                        Text(
                          '$_itemCount',
                          style: const TextStyle(fontSize: 24),
                        ),
                        ElevatedButton(
                          onPressed: () => setState(() => _itemCount++),
                          child: const Text('+'),
                        ),
                      ],
                    ),
                  ],
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

ARB files provide a standardized way to manage translations with support  
for pluralization, parameterization, and metadata. The flutter_gen package  
automatically generates type-safe localization classes from your ARB files.  
This approach scales well for large applications and provides better  
maintainability than manual translation management.

## Number and Currency Formatting

Formatting numbers, currencies, and percentages according to different  
locale conventions using the NumberFormat class.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'package:intl/intl.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en', 'US');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Number Formatting',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en', 'US'), // English (US)
        Locale('de', 'DE'), // German
        Locale('fr', 'FR'), // French
        Locale('ja', 'JP'), // Japanese
        Locale('ar', 'SA'), // Arabic
        Locale('hi', 'IN'), // Hindi (India)
      ],
      home: NumberFormattingExample(onLocaleChange: _changeLocale),
    );
  }
}

class NumberFormattingExample extends StatefulWidget {
  final Function(Locale) onLocaleChange;

  const NumberFormattingExample({
    super.key,
    required this.onLocaleChange,
  });

  @override
  State<NumberFormattingExample> createState() => 
      _NumberFormattingExampleState();
}

class _NumberFormattingExampleState extends State<NumberFormattingExample> {
  double _amount = 1234567.89;
  double _percentage = 0.1234;

  static const Map<Locale, String> _localeNames = {
    Locale('en', 'US'): '🇺🇸 English (US)',
    Locale('de', 'DE'): '🇩🇪 German',
    Locale('fr', 'FR'): '🇫🇷 French',
    Locale('ja', 'JP'): '🇯🇵 Japanese',
    Locale('ar', 'SA'): '🇸🇦 Arabic',
    Locale('hi', 'IN'): '🇮🇳 Hindi',
  };

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);
    
    return Scaffold(
      appBar: AppBar(
        title: const Text('Number Formatting'),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: widget.onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildLocaleInfo(locale),
            const SizedBox(height: 20),
            _buildNumberFormats(locale),
            const SizedBox(height: 20),
            _buildCurrencyFormats(locale),
            const SizedBox(height: 20),
            _buildPercentageFormats(locale),
            const SizedBox(height: 20),
            _buildInputControls(),
          ],
        ),
      ),
    );
  }

  Widget _buildLocaleInfo(Locale locale) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Current Locale: ${_localeNames[locale] ?? locale.toString()}',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            Text('Language: ${locale.languageCode}'),
            Text('Country: ${locale.countryCode ?? "N/A"}'),
          ],
        ),
      ),
    );
  }

  Widget _buildNumberFormats(Locale locale) {
    final decimalFormat = NumberFormat.decimalPattern(locale.toString());
    final compactFormat = NumberFormat.compact(locale: locale.toString());
    final scientificFormat = 
        NumberFormat.scientificPattern(locale.toString());

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Number Formats',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            _buildFormatRow('Decimal', decimalFormat.format(_amount)),
            _buildFormatRow('Compact', compactFormat.format(_amount)),
            _buildFormatRow('Scientific', scientificFormat.format(_amount)),
            _buildFormatRow(
              'Custom Pattern', 
              NumberFormat('#,##0.00', locale.toString()).format(_amount),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildCurrencyFormats(Locale locale) {
    final currencyFormat = NumberFormat.currency(locale: locale.toString());
    final compactCurrency = 
        NumberFormat.compactCurrency(locale: locale.toString());
    
    // Different currencies for demonstration
    final usdFormat = NumberFormat.currency(
      locale: locale.toString(),
      symbol: '\$',
    );
    final eurFormat = NumberFormat.currency(
      locale: locale.toString(),
      symbol: '€',
    );

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Currency Formats',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            _buildFormatRow('Local Currency', currencyFormat.format(_amount)),
            _buildFormatRow('Compact Currency', 
                compactCurrency.format(_amount)),
            _buildFormatRow('USD', usdFormat.format(_amount)),
            _buildFormatRow('EUR', eurFormat.format(_amount)),
          ],
        ),
      ),
    );
  }

  Widget _buildPercentageFormats(Locale locale) {
    final percentFormat = NumberFormat.percentPattern(locale.toString());
    final decimalPercent = NumberFormat.decimalPercentPattern(
      locale: locale.toString(),
      decimalDigits: 2,
    );

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Percentage Formats',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            _buildFormatRow('Percent', percentFormat.format(_percentage)),
            _buildFormatRow('Decimal Percent', 
                decimalPercent.format(_percentage)),
          ],
        ),
      ),
    );
  }

  Widget _buildFormatRow(String label, String value) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 4.0),
      child: Row(
        children: [
          SizedBox(
            width: 120,
            child: Text(
              '$label:',
              style: const TextStyle(fontWeight: FontWeight.w500),
            ),
          ),
          Expanded(
            child: Text(
              value,
              style: const TextStyle(fontFamily: 'monospace'),
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildInputControls() {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Test Values',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 16),
            TextField(
              keyboardType: TextInputType.number,
              decoration: InputDecoration(
                labelText: 'Amount',
                border: const OutlineInputBorder(),
                hintText: _amount.toString(),
              ),
              onChanged: (value) {
                final parsed = double.tryParse(value);
                if (parsed != null) {
                  setState(() => _amount = parsed);
                }
              },
            ),
            const SizedBox(height: 16),
            TextField(
              keyboardType: TextInputType.number,
              decoration: InputDecoration(
                labelText: 'Percentage (0-1)',
                border: const OutlineInputBorder(),
                hintText: _percentage.toString(),
              ),
              onChanged: (value) {
                final parsed = double.tryParse(value);
                if (parsed != null && parsed >= 0 && parsed <= 1) {
                  setState(() => _percentage = parsed);
                }
              },
            ),
          ],
        ),
      ),
    );
  }
}
```

Number formatting demonstrates how different cultures express numeric  
values. The NumberFormat class automatically handles grouping separators,  
decimal points, currency symbols, and digit representations according to  
locale conventions. This ensures that numbers appear familiar and readable  
to users regardless of their cultural background.

## Date and Time Formatting

Formatting dates and times according to different cultural conventions  
using DateFormat and locale-aware patterns.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'package:intl/intl.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en', 'US');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Date Formatting',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en', 'US'),
        Locale('de', 'DE'),
        Locale('fr', 'FR'),
        Locale('ja', 'JP'),
        Locale('ar', 'SA'),
        Locale('ru', 'RU'),
      ],
      home: DateFormattingExample(onLocaleChange: _changeLocale),
    );
  }
}

class DateFormattingExample extends StatefulWidget {
  final Function(Locale) onLocaleChange;

  const DateFormattingExample({
    super.key,
    required this.onLocaleChange,
  });

  @override
  State<DateFormattingExample> createState() => _DateFormattingExampleState();
}

class _DateFormattingExampleState extends State<DateFormattingExample> {
  DateTime _selectedDate = DateTime.now();
  
  static const Map<Locale, String> _localeNames = {
    Locale('en', 'US'): '🇺🇸 English (US)',
    Locale('de', 'DE'): '🇩🇪 German',
    Locale('fr', 'FR'): '🇫🇷 French',
    Locale('ja', 'JP'): '🇯🇵 Japanese',
    Locale('ar', 'SA'): '🇸🇦 Arabic',
    Locale('ru', 'RU'): '🇷🇺 Russian',
  };

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);
    
    return Scaffold(
      appBar: AppBar(
        title: const Text('Date Formatting'),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: widget.onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildDateSelector(),
            const SizedBox(height: 20),
            _buildDateFormats(locale),
            const SizedBox(height: 20),
            _buildTimeFormats(locale),
            const SizedBox(height: 20),
            _buildRelativeDateFormats(locale),
          ],
        ),
      ),
    );
  }

  Widget _buildDateSelector() {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Select Date',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 16),
            Row(
              children: [
                Expanded(
                  child: Text(
                    'Selected: ${_selectedDate.toString().split(' ')[0]}',
                    style: const TextStyle(fontSize: 16),
                  ),
                ),
                ElevatedButton(
                  onPressed: () async {
                    final date = await showDatePicker(
                      context: context,
                      initialDate: _selectedDate,
                      firstDate: DateTime(2020),
                      lastDate: DateTime(2030),
                    );
                    if (date != null) {
                      setState(() => _selectedDate = date);
                    }
                  },
                  child: const Text('Choose Date'),
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildDateFormats(Locale locale) {
    final formats = {
      'Full': DateFormat.yMMMMEEEEd(locale.toString()),
      'Long': DateFormat.yMMMMd(locale.toString()),
      'Medium': DateFormat.yMMMd(locale.toString()),
      'Short': DateFormat.yMd(locale.toString()),
      'Custom': DateFormat('dd/MM/yyyy', locale.toString()),
      'ISO': DateFormat('yyyy-MM-dd'),
    };

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Date Formats',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            ...formats.entries.map((entry) {
              return Padding(
                padding: const EdgeInsets.symmetric(vertical: 4.0),
                child: Row(
                  children: [
                    SizedBox(
                      width: 80,
                      child: Text(
                        '${entry.key}:',
                        style: const TextStyle(fontWeight: FontWeight.w500),
                      ),
                    ),
                    Expanded(
                      child: Text(
                        entry.value.format(_selectedDate),
                        style: const TextStyle(fontFamily: 'monospace'),
                      ),
                    ),
                  ],
                ),
              );
            }),
          ],
        ),
      ),
    );
  }

  Widget _buildTimeFormats(Locale locale) {
    final now = DateTime.now();
    final formats = {
      'Full': DateFormat.jms(locale.toString()),
      'Short': DateFormat.jm(locale.toString()),
      '24 Hour': DateFormat.Hm(locale.toString()),
      'With Seconds': DateFormat.Hms(locale.toString()),
    };

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Time Formats',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            ...formats.entries.map((entry) {
              return Padding(
                padding: const EdgeInsets.symmetric(vertical: 4.0),
                child: Row(
                  children: [
                    SizedBox(
                      width: 100,
                      child: Text(
                        '${entry.key}:',
                        style: const TextStyle(fontWeight: FontWeight.w500),
                      ),
                    ),
                    Expanded(
                      child: Text(
                        entry.value.format(now),
                        style: const TextStyle(fontFamily: 'monospace'),
                      ),
                    ),
                  ],
                ),
              );
            }),
          ],
        ),
      ),
    );
  }

  Widget _buildRelativeDateFormats(Locale locale) {
    final now = DateTime.now();
    final dates = [
      now,
      now.subtract(const Duration(days: 1)),
      now.subtract(const Duration(days: 7)),
      now.add(const Duration(days: 1)),
      now.add(const Duration(days: 30)),
    ];

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Relative Date Examples',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            ...dates.map((date) {
              final diff = date.difference(now).inDays;
              final relativeText = diff == 0 
                  ? 'Today'
                  : diff == -1 
                      ? 'Yesterday'
                      : diff == 1
                          ? 'Tomorrow'
                          : diff < 0
                              ? '${-diff} days ago'
                              : 'In $diff days';
              
              return Padding(
                padding: const EdgeInsets.symmetric(vertical: 4.0),
                child: Row(
                  children: [
                    SizedBox(
                      width: 100,
                      child: Text(
                        relativeText,
                        style: const TextStyle(fontWeight: FontWeight.w500),
                      ),
                    ),
                    Expanded(
                      child: Text(
                        DateFormat.yMMMd(locale.toString()).format(date),
                        style: const TextStyle(fontFamily: 'monospace'),
                      ),
                    ),
                  ],
                ),
              );
            }),
          ],
        ),
      ),
    );
  }
}
```

Date and time formatting varies significantly across cultures. Some regions  
use DD/MM/YYYY while others prefer MM/DD/YYYY or YYYY-MM-DD. Time formats  
also differ between 12-hour and 24-hour systems. The DateFormat class  
provides locale-aware formatting that automatically adapts to user  
expectations while maintaining consistency within your application.

## RTL (Right-to-Left) Language Support

Implementing proper RTL language support for Arabic, Hebrew, and other  
right-to-left languages with automatic layout direction detection.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'RTL Support',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en'), // English (LTR)
        Locale('ar'), // Arabic (RTL)
        Locale('he'), // Hebrew (RTL)
        Locale('fa'), // Persian (RTL)
        Locale('ur'), // Urdu (RTL)
      ],
      home: RTLSupportExample(onLocaleChange: _changeLocale),
    );
  }
}

class RTLSupportExample extends StatelessWidget {
  final Function(Locale) onLocaleChange;

  const RTLSupportExample({
    super.key,
    required this.onLocaleChange,
  });

  static const Map<Locale, String> _localeNames = {
    Locale('en'): '🇺🇸 English (LTR)',
    Locale('ar'): '🇸🇦 Arabic (RTL)',
    Locale('he'): '🇮🇱 Hebrew (RTL)',
    Locale('fa'): '🇮🇷 Persian (RTL)',
    Locale('ur'): '🇵🇰 Urdu (RTL)',
  };

  static const Map<Locale, Map<String, String>> _translations = {
    Locale('en'): {
      'title': 'RTL Language Support',
      'welcome': 'Welcome to our application',
      'description': 'This demonstrates RTL support',
      'name': 'Name',
      'email': 'Email',
      'message': 'Message',
      'send': 'Send',
      'navigation': 'Navigation',
      'home': 'Home',
      'profile': 'Profile',
      'settings': 'Settings',
    },
    Locale('ar'): {
      'title': 'دعم اللغات من اليمين إلى اليسار',
      'welcome': 'مرحباً بكم في تطبيقنا',
      'description': 'هذا يوضح دعم RTL',
      'name': 'الاسم',
      'email': 'البريد الإلكتروني',
      'message': 'الرسالة',
      'send': 'إرسال',
      'navigation': 'التنقل',
      'home': 'الرئيسية',
      'profile': 'الملف الشخصي',
      'settings': 'الإعدادات',
    },
    Locale('he'): {
      'title': 'תמיכה בשפות מימין לשמאל',
      'welcome': 'ברוכים הבאים לאפליקציה שלנו',
      'description': 'זה מדגים תמיכה ב-RTL',
      'name': 'שם',
      'email': 'דוא"ל',
      'message': 'הודעה',
      'send': 'שלח',
      'navigation': 'ניווט',
      'home': 'בית',
      'profile': 'פרופיל',
      'settings': 'הגדרות',
    },
  };

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);
    final isRTL = Directionality.of(context) == TextDirection.rtl;
    final texts = _translations[locale] ?? _translations[const Locale('en')]!;

    return Scaffold(
      appBar: AppBar(
        title: Text(texts['title']!),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      drawer: _buildDrawer(texts),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildDirectionInfo(isRTL, locale),
            const SizedBox(height: 20),
            _buildWelcomeCard(texts),
            const SizedBox(height: 20),
            _buildFormExample(texts),
            const SizedBox(height: 20),
            _buildListExample(texts),
            const SizedBox(height: 20),
            _buildLayoutExample(isRTL),
          ],
        ),
      ),
    );
  }

  Widget _buildDrawer(Map<String, String> texts) {
    return Drawer(
      child: ListView(
        children: [
          DrawerHeader(
            decoration: const BoxDecoration(color: Colors.blue),
            child: Text(
              texts['navigation']!,
              style: const TextStyle(color: Colors.white, fontSize: 24),
            ),
          ),
          ListTile(
            leading: const Icon(Icons.home),
            title: Text(texts['home']!),
            onTap: () {},
          ),
          ListTile(
            leading: const Icon(Icons.person),
            title: Text(texts['profile']!),
            onTap: () {},
          ),
          ListTile(
            leading: const Icon(Icons.settings),
            title: Text(texts['settings']!),
            onTap: () {},
          ),
        ],
      ),
    );
  }

  Widget _buildDirectionInfo(bool isRTL, Locale locale) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Layout Direction Information',
              style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 8),
            Text('Locale: ${locale.languageCode}'),
            Text('Direction: ${isRTL ? "RTL (Right-to-Left)" : "LTR (Left-to-Right)"}'),
            Text('Auto-detected: ${isRTL ? "Yes" : "Yes"}'),
          ],
        ),
      ),
    );
  }

  Widget _buildWelcomeCard(Map<String, String> texts) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              texts['welcome']!,
              style: const TextStyle(fontSize: 24, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 8),
            Text(
              texts['description']!,
              style: const TextStyle(fontSize: 16),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildFormExample(Map<String, String> texts) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Form Example',
              style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            TextField(
              decoration: InputDecoration(
                labelText: texts['name']!,
                border: const OutlineInputBorder(),
              ),
            ),
            const SizedBox(height: 16),
            TextField(
              decoration: InputDecoration(
                labelText: texts['email']!,
                border: const OutlineInputBorder(),
              ),
            ),
            const SizedBox(height: 16),
            TextField(
              maxLines: 3,
              decoration: InputDecoration(
                labelText: texts['message']!,
                border: const OutlineInputBorder(),
              ),
            ),
            const SizedBox(height: 16),
            ElevatedButton(
              onPressed: () {},
              child: Text(texts['send']!),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildListExample(Map<String, String> texts) {
    final items = [
      {'icon': Icons.home, 'title': texts['home']!},
      {'icon': Icons.person, 'title': texts['profile']!},
      {'icon': Icons.settings, 'title': texts['settings']!},
    ];

    return Card(
      child: Column(
        children: [
          const Padding(
            padding: EdgeInsets.all(16.0),
            child: Text(
              'List Example',
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
          ),
          ...items.map((item) => ListTile(
            leading: Icon(item['icon'] as IconData),
            title: Text(item['title'] as String),
            trailing: const Icon(Icons.arrow_forward_ios),
            onTap: () {},
          )),
        ],
      ),
    );
  }

  Widget _buildLayoutExample(bool isRTL) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Layout Direction Example',
              style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            Row(
              children: [
                Container(
                  width: 60,
                  height: 60,
                  color: Colors.red[200],
                  child: const Center(child: Text('1')),
                ),
                const SizedBox(width: 16),
                Container(
                  width: 60,
                  height: 60,
                  color: Colors.green[200],
                  child: const Center(child: Text('2')),
                ),
                const SizedBox(width: 16),
                Container(
                  width: 60,
                  height: 60,
                  color: Colors.blue[200],
                  child: const Center(child: Text('3')),
                ),
              ],
            ),
            const SizedBox(height: 16),
            Text('Direction: ${isRTL ? "RTL" : "LTR"}'),
            Text('Notice how elements flow ${isRTL ? "right-to-left" : "left-to-right"}'),
          ],
        ),
      ),
    );
  }
}
```

RTL language support is automatically handled by Flutter when you include  
RTL locales in your supportedLocales. The framework detects the text  
direction and adjusts layouts accordingly. UI elements like navigation  
drawers, icons, and text alignment automatically mirror for RTL languages,  
ensuring a natural reading experience for users of Arabic, Hebrew, and  
other RTL languages.

## Pluralization Rules

Implementing proper pluralization handling for different languages  
with complex plural rules using ICU message format.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'package:intl/intl.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Pluralization Rules',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en'), // English
        Locale('pl'), // Polish (complex plurals)
        Locale('ru'), // Russian (complex plurals)
        Locale('ar'), // Arabic (dual form)
        Locale('cs'), // Czech (complex plurals)
      ],
      home: PluralizationExample(onLocaleChange: _changeLocale),
    );
  }
}

class PluralizationExample extends StatefulWidget {
  final Function(Locale) onLocaleChange;

  const PluralizationExample({
    super.key,
    required this.onLocaleChange,
  });

  @override
  State<PluralizationExample> createState() => _PluralizationExampleState();
}

class _PluralizationExampleState extends State<PluralizationExample> {
  int _itemCount = 0;
  int _messageCount = 0;
  int _personCount = 1;

  static const Map<Locale, String> _localeNames = {
    Locale('en'): '🇺🇸 English',
    Locale('pl'): '🇵🇱 Polish',
    Locale('ru'): '🇷🇺 Russian',
    Locale('ar'): '🇸🇦 Arabic',
    Locale('cs'): '🇨🇿 Czech',
  };

  // Pluralization patterns for different languages
  static const Map<Locale, Map<String, String>> _plurals = {
    Locale('en'): {
      'items': '{count, plural, =0{no items} =1{1 item} other{{count} items}}',
      'messages': '{count, plural, =0{no messages} =1{1 message} other{{count} messages}}',
      'people': '{count, plural, =1{1 person} other{{count} people}}',
    },
    Locale('pl'): {
      'items': '{count, plural, =0{brak elementów} =1{1 element} few{{count} elementy} many{{count} elementów} other{{count} elementów}}',
      'messages': '{count, plural, =0{brak wiadomości} =1{1 wiadomość} few{{count} wiadomości} many{{count} wiadomości} other{{count} wiadomości}}',
      'people': '{count, plural, =1{1 osoba} few{{count} osoby} many{{count} osób} other{{count} osób}}',
    },
    Locale('ru'): {
      'items': '{count, plural, =0{нет элементов} =1{1 элемент} few{{count} элемента} many{{count} элементов} other{{count} элементов}}',
      'messages': '{count, plural, =0{нет сообщений} =1{1 сообщение} few{{count} сообщения} many{{count} сообщений} other{{count} сообщений}}',
      'people': '{count, plural, =1{1 человек} few{{count} человека} many{{count} человек} other{{count} человек}}',
    },
    Locale('ar'): {
      'items': '{count, plural, =0{لا توجد عناصر} =1{عنصر واحد} =2{عنصران} few{{count} عناصر} many{{count} عنصراً} other{{count} عنصر}}',
      'messages': '{count, plural, =0{لا توجد رسائل} =1{رسالة واحدة} =2{رسالتان} few{{count} رسائل} many{{count} رسالة} other{{count} رسالة}}',
      'people': '{count, plural, =1{شخص واحد} =2{شخصان} few{{count} أشخاص} many{{count} شخصاً} other{{count} شخص}}',
    },
  };

  String _formatPlural(Locale locale, String key, int count) {
    final patterns = _plurals[locale] ?? _plurals[const Locale('en')]!;
    final pattern = patterns[key] ?? patterns['items']!;
    
    // Simple implementation of ICU plural rules
    // In production, use proper ICU message formatting
    return pattern
        .replaceAll('{count}', count.toString())
        .replaceAll(RegExp(r'\{count, plural, .*?\}'), _resolvePlural(pattern, count, locale));
  }

  String _resolvePlural(String pattern, int count, Locale locale) {
    // Simplified plural rule resolution - in production use proper ICU
    if (count == 0 && pattern.contains('=0{')) {
      return _extractPluralForm(pattern, '=0');
    } else if (count == 1 && pattern.contains('=1{')) {
      return _extractPluralForm(pattern, '=1');
    } else if (count == 2 && pattern.contains('=2{')) {
      return _extractPluralForm(pattern, '=2');
    } else if (_isFew(count, locale) && pattern.contains('few{')) {
      return _extractPluralForm(pattern, 'few');
    } else if (_isMany(count, locale) && pattern.contains('many{')) {
      return _extractPluralForm(pattern, 'many');
    } else {
      return _extractPluralForm(pattern, 'other');
    }
  }

  String _extractPluralForm(String pattern, String form) {
    final regex = RegExp('$form\\{([^}]+)\\}');
    final match = regex.firstMatch(pattern);
    return match?.group(1)?.replaceAll('{count}', '') ?? '';
  }

  bool _isFew(int count, Locale locale) {
    switch (locale.languageCode) {
      case 'pl':
      case 'ru':
        return count % 10 >= 2 && count % 10 <= 4 && (count % 100 < 10 || count % 100 >= 20);
      case 'ar':
        return count >= 3 && count <= 10;
      default:
        return false;
    }
  }

  bool _isMany(int count, Locale locale) {
    switch (locale.languageCode) {
      case 'pl':
      case 'ru':
        return count != 1 && (count % 10 == 0 || count % 10 == 1 || (count % 10 >= 5 && count % 10 <= 9) || (count % 100 >= 11 && count % 100 <= 14));
      case 'ar':
        return count >= 11 && count <= 99;
      default:
        return false;
    }
  }

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);

    return Scaffold(
      appBar: AppBar(
        title: const Text('Pluralization Rules'),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: widget.onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildLocaleInfo(locale),
            const SizedBox(height: 20),
            _buildPluralExample('Items', _itemCount, 'items', locale),
            const SizedBox(height: 20),
            _buildPluralExample('Messages', _messageCount, 'messages', locale),
            const SizedBox(height: 20),
            _buildPluralExample('People', _personCount, 'people', locale),
            const SizedBox(height: 20),
            _buildPluralRulesExplanation(locale),
          ],
        ),
      ),
    );
  }

  Widget _buildLocaleInfo(Locale locale) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Current Language: ${_localeNames[locale]}',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            Text('Locale: ${locale.languageCode}'),
          ],
        ),
      ),
    );
  }

  Widget _buildPluralExample(String title, int count, String key, Locale locale) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              title,
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 16),
            Text(
              _formatPlural(locale, key, count),
              style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceEvenly,
              children: [
                ElevatedButton(
                  onPressed: count > 0 ? () {
                    setState(() {
                      if (key == 'items') _itemCount--;
                      else if (key == 'messages') _messageCount--;
                      else if (key == 'people') _personCount--;
                    });
                  } : null,
                  child: const Text('-'),
                ),
                Container(
                  padding: const EdgeInsets.all(12),
                  decoration: BoxDecoration(
                    border: Border.all(color: Colors.grey),
                    borderRadius: BorderRadius.circular(8),
                  ),
                  child: Text(
                    '$count',
                    style: const TextStyle(fontSize: 24),
                  ),
                ),
                ElevatedButton(
                  onPressed: () {
                    setState(() {
                      if (key == 'items') _itemCount++;
                      else if (key == 'messages') _messageCount++;
                      else if (key == 'people') _personCount++;
                    });
                  },
                  child: const Text('+'),
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildPluralRulesExplanation(Locale locale) {
    final explanations = {
      'en': 'English: Simple plural rules (1 = singular, other = plural)',
      'pl': 'Polish: Complex rules (1, 2-4, 5+ with special cases)',
      'ru': 'Russian: Similar to Polish with complex numeric rules',
      'ar': 'Arabic: Includes dual form (2) and different ranges',
      'cs': 'Czech: Complex Slavic plural rules',
    };

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Plural Rules Explanation',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            Text(
              explanations[locale.languageCode] ?? explanations['en']!,
              style: const TextStyle(fontSize: 14),
            ),
            const SizedBox(height: 16),
            const Text(
              'Test different numbers to see how pluralization changes:',
              style: TextStyle(fontSize: 12, color: Colors.grey),
            ),
            const Text(
              'Try: 0, 1, 2, 3, 4, 5, 11, 21, 22, 101, 102...',
              style: TextStyle(fontSize: 12, color: Colors.grey),
            ),
          ],
        ),
      ),
    );
  }
}
```

Pluralization rules vary dramatically between languages. English has simple  
singular/plural forms, while languages like Polish and Russian have complex  
rules based on number endings. Arabic includes dual forms, and some  
languages have up to six different plural categories. Proper pluralization  
ensures your app sounds natural to native speakers.

## Custom Localizations Delegate

Creating a custom localizations delegate for app-specific translations  
that aren't covered by standard Flutter localizations.  

```dart
import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Custom Localizations',
      locale: _currentLocale,
      localizationsDelegates: const [
        AppLocalizations.delegate,
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en'),
        Locale('es'),
        Locale('fr'),
        Locale('de'),
        Locale('ja'),
      ],
      home: CustomLocalizationsExample(onLocaleChange: _changeLocale),
    );
  }
}

class AppLocalizations {
  final Locale locale;

  AppLocalizations(this.locale);

  static AppLocalizations? of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations);
  }

  static const LocalizationsDelegate<AppLocalizations> delegate =
      _AppLocalizationsDelegate();

  static final Map<String, Map<String, String>> _localizedValues = {
    'en': {
      'app_name': 'My Application',
      'welcome_title': 'Welcome!',
      'welcome_message': 'Thanks for using our app',
      'login_button': 'Sign In',
      'logout_button': 'Sign Out',
      'settings_title': 'Settings',
      'profile_title': 'User Profile',
      'notifications_enabled': 'Notifications Enabled',
      'dark_mode': 'Dark Mode',
      'language': 'Language',
      'version': 'Version',
      'about': 'About',
      'privacy_policy': 'Privacy Policy',
      'terms_of_service': 'Terms of Service',
      'contact_support': 'Contact Support',
      'loading': 'Loading...',
      'error_occurred': 'An error occurred',
      'retry': 'Retry',
      'cancel': 'Cancel',
      'confirm': 'Confirm',
      'success': 'Success',
    },
    'es': {
      'app_name': 'Mi Aplicación',
      'welcome_title': '¡Bienvenido!',
      'welcome_message': 'Gracias por usar nuestra aplicación',
      'login_button': 'Iniciar Sesión',
      'logout_button': 'Cerrar Sesión',
      'settings_title': 'Configuración',
      'profile_title': 'Perfil de Usuario',
      'notifications_enabled': 'Notificaciones Habilitadas',
      'dark_mode': 'Modo Oscuro',
      'language': 'Idioma',
      'version': 'Versión',
      'about': 'Acerca de',
      'privacy_policy': 'Política de Privacidad',
      'terms_of_service': 'Términos de Servicio',
      'contact_support': 'Contactar Soporte',
      'loading': 'Cargando...',
      'error_occurred': 'Ocurrió un error',
      'retry': 'Reintentar',
      'cancel': 'Cancelar',
      'confirm': 'Confirmar',
      'success': 'Éxito',
    },
    'fr': {
      'app_name': 'Mon Application',
      'welcome_title': 'Bienvenue !',
      'welcome_message': 'Merci d\'utiliser notre application',
      'login_button': 'Se Connecter',
      'logout_button': 'Se Déconnecter',
      'settings_title': 'Paramètres',
      'profile_title': 'Profil Utilisateur',
      'notifications_enabled': 'Notifications Activées',
      'dark_mode': 'Mode Sombre',
      'language': 'Langue',
      'version': 'Version',
      'about': 'À Propos',
      'privacy_policy': 'Politique de Confidentialité',
      'terms_of_service': 'Conditions d\'Utilisation',
      'contact_support': 'Contacter le Support',
      'loading': 'Chargement...',
      'error_occurred': 'Une erreur s\'est produite',
      'retry': 'Réessayer',
      'cancel': 'Annuler',
      'confirm': 'Confirmer',
      'success': 'Succès',
    },
    'de': {
      'app_name': 'Meine Anwendung',
      'welcome_title': 'Willkommen!',
      'welcome_message': 'Danke, dass Sie unsere App verwenden',
      'login_button': 'Anmelden',
      'logout_button': 'Abmelden',
      'settings_title': 'Einstellungen',
      'profile_title': 'Benutzerprofil',
      'notifications_enabled': 'Benachrichtigungen Aktiviert',
      'dark_mode': 'Dunkler Modus',
      'language': 'Sprache',
      'version': 'Version',
      'about': 'Über',
      'privacy_policy': 'Datenschutzrichtlinie',
      'terms_of_service': 'Nutzungsbedingungen',
      'contact_support': 'Support Kontaktieren',
      'loading': 'Laden...',
      'error_occurred': 'Ein Fehler ist aufgetreten',
      'retry': 'Wiederholen',
      'cancel': 'Abbrechen',
      'confirm': 'Bestätigen',
      'success': 'Erfolg',
    },
    'ja': {
      'app_name': '私のアプリケーション',
      'welcome_title': 'ようこそ！',
      'welcome_message': 'アプリをご利用いただきありがとうございます',
      'login_button': 'サインイン',
      'logout_button': 'サインアウト',
      'settings_title': '設定',
      'profile_title': 'ユーザープロフィール',
      'notifications_enabled': '通知が有効',
      'dark_mode': 'ダークモード',
      'language': '言語',
      'version': 'バージョン',
      'about': 'について',
      'privacy_policy': 'プライバシーポリシー',
      'terms_of_service': '利用規約',
      'contact_support': 'サポートに連絡',
      'loading': '読み込み中...',
      'error_occurred': 'エラーが発生しました',
      'retry': '再試行',
      'cancel': 'キャンセル',
      'confirm': '確認',
      'success': '成功',
    },
  };

  String translate(String key) {
    return _localizedValues[locale.languageCode]?[key] ?? 
           _localizedValues['en']?[key] ?? 
           key;
  }

  // Convenience getters for commonly used strings
  String get appName => translate('app_name');
  String get welcomeTitle => translate('welcome_title');
  String get welcomeMessage => translate('welcome_message');
  String get loginButton => translate('login_button');
  String get logoutButton => translate('logout_button');
  String get settingsTitle => translate('settings_title');
  String get profileTitle => translate('profile_title');
  String get notificationsEnabled => translate('notifications_enabled');
  String get darkMode => translate('dark_mode');
  String get language => translate('language');
  String get version => translate('version');
  String get about => translate('about');
  String get privacyPolicy => translate('privacy_policy');
  String get termsOfService => translate('terms_of_service');
  String get contactSupport => translate('contact_support');
  String get loading => translate('loading');
  String get errorOccurred => translate('error_occurred');
  String get retry => translate('retry');
  String get cancel => translate('cancel');
  String get confirm => translate('confirm');
  String get success => translate('success');
}

class _AppLocalizationsDelegate extends LocalizationsDelegate<AppLocalizations> {
  const _AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) {
    return ['en', 'es', 'fr', 'de', 'ja'].contains(locale.languageCode);
  }

  @override
  Future<AppLocalizations> load(Locale locale) {
    return SynchronousFuture<AppLocalizations>(AppLocalizations(locale));
  }

  @override
  bool shouldReload(_AppLocalizationsDelegate old) => false;
}

class CustomLocalizationsExample extends StatelessWidget {
  final Function(Locale) onLocaleChange;

  const CustomLocalizationsExample({
    super.key,
    required this.onLocaleChange,
  });

  static const Map<Locale, String> _localeNames = {
    Locale('en'): '🇺🇸 English',
    Locale('es'): '🇪🇸 Spanish',
    Locale('fr'): '🇫🇷 French',
    Locale('de'): '🇩🇪 German',
    Locale('ja'): '🇯🇵 Japanese',
  };

  @override
  Widget build(BuildContext context) {
    final localizations = AppLocalizations.of(context)!;
    final currentLocale = Localizations.localeOf(context);

    return Scaffold(
      appBar: AppBar(
        title: Text(localizations.appName),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Row(
                    children: [
                      Text(entry.value),
                      if (entry.key.languageCode == currentLocale.languageCode) ...[
                        const Spacer(),
                        const Icon(Icons.check, color: Colors.green),
                      ],
                    ],
                  ),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildWelcomeCard(localizations),
            const SizedBox(height: 20),
            _buildActionsCard(localizations),
            const SizedBox(height: 20),
            _buildSettingsCard(localizations),
            const SizedBox(height: 20),
            _buildInfoCard(localizations),
          ],
        ),
      ),
    );
  }

  Widget _buildWelcomeCard(AppLocalizations localizations) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              localizations.welcomeTitle,
              style: const TextStyle(fontSize: 24, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 8),
            Text(
              localizations.welcomeMessage,
              style: const TextStyle(fontSize: 16),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildActionsCard(AppLocalizations localizations) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Actions',
              style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceEvenly,
              children: [
                ElevatedButton(
                  onPressed: () {},
                  child: Text(localizations.loginButton),
                ),
                OutlinedButton(
                  onPressed: () {},
                  child: Text(localizations.logoutButton),
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildSettingsCard(AppLocalizations localizations) {
    return Card(
      child: Column(
        children: [
          Padding(
            padding: const EdgeInsets.all(16.0),
            child: Text(
              localizations.settingsTitle,
              style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
          ),
          ListTile(
            leading: const Icon(Icons.person),
            title: Text(localizations.profileTitle),
            trailing: const Icon(Icons.chevron_right),
            onTap: () {},
          ),
          SwitchListTile(
            secondary: const Icon(Icons.notifications),
            title: Text(localizations.notificationsEnabled),
            value: true,
            onChanged: (value) {},
          ),
          SwitchListTile(
            secondary: const Icon(Icons.dark_mode),
            title: Text(localizations.darkMode),
            value: false,
            onChanged: (value) {},
          ),
          ListTile(
            leading: const Icon(Icons.language),
            title: Text(localizations.language),
            subtitle: const Text('Current language settings'),
            trailing: const Icon(Icons.chevron_right),
            onTap: () {},
          ),
        ],
      ),
    );
  }

  Widget _buildInfoCard(AppLocalizations localizations) {
    return Card(
      child: Column(
        children: [
          ListTile(
            leading: const Icon(Icons.info),
            title: Text(localizations.about),
            trailing: const Icon(Icons.chevron_right),
            onTap: () {},
          ),
          ListTile(
            leading: const Icon(Icons.privacy_tip),
            title: Text(localizations.privacyPolicy),
            trailing: const Icon(Icons.chevron_right),
            onTap: () {},
          ),
          ListTile(
            leading: const Icon(Icons.description),
            title: Text(localizations.termsOfService),
            trailing: const Icon(Icons.chevron_right),
            onTap: () {},
          ),
          ListTile(
            leading: const Icon(Icons.support_agent),
            title: Text(localizations.contactSupport),
            trailing: const Icon(Icons.chevron_right),
            onTap: () {},
          ),
          ListTile(
            leading: const Icon(Icons.info_outline),
            title: Text('${localizations.version} 1.0.0'),
          ),
        ],
      ),
    );
  }
}
```

Custom localizations delegates provide complete control over your app's  
translations. Unlike ARB files, this approach allows for dynamic loading,  
complex logic, and runtime translation updates. The delegate pattern  
integrates seamlessly with Flutter's localization system while giving  
you flexibility to implement custom translation loading mechanisms.

## Locale-Aware Asset Loading

Loading different assets (images, fonts, sounds) based on the current  
locale to provide culturally appropriate content.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Locale-Aware Assets',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en', 'US'),
        Locale('es', 'ES'),
        Locale('ja', 'JP'),
        Locale('ar', 'SA'),
        Locale('de', 'DE'),
      ],
      home: AssetLocalizationExample(onLocaleChange: _changeLocale),
    );
  }
}

class AssetLocalizationExample extends StatelessWidget {
  final Function(Locale) onLocaleChange;

  const AssetLocalizationExample({
    super.key,
    required this.onLocaleChange,
  });

  static const Map<Locale, String> _localeNames = {
    Locale('en', 'US'): '🇺🇸 English',
    Locale('es', 'ES'): '🇪🇸 Spanish',
    Locale('ja', 'JP'): '🇯🇵 Japanese',
    Locale('ar', 'SA'): '🇸🇦 Arabic',
    Locale('de', 'DE'): '🇩🇪 German',
  };

  // Asset paths for different locales
  static const Map<String, Map<String, String>> _assets = {
    'en': {
      'flag': 'assets/images/flags/us.png',
      'greeting': 'assets/images/greetings/hello_en.png',
      'currency': 'assets/images/currency/dollar.png',
      'font': 'Roboto',
      'culturalImage': 'assets/images/culture/american_flag.jpg',
    },
    'es': {
      'flag': 'assets/images/flags/spain.png',
      'greeting': 'assets/images/greetings/hola_es.png',
      'currency': 'assets/images/currency/euro.png',
      'font': 'Roboto',
      'culturalImage': 'assets/images/culture/spanish_culture.jpg',
    },
    'ja': {
      'flag': 'assets/images/flags/japan.png',
      'greeting': 'assets/images/greetings/konnichiwa_ja.png',
      'currency': 'assets/images/currency/yen.png',
      'font': 'NotoSansJP',
      'culturalImage': 'assets/images/culture/japanese_culture.jpg',
    },
    'ar': {
      'flag': 'assets/images/flags/saudi.png',
      'greeting': 'assets/images/greetings/marhaban_ar.png',
      'currency': 'assets/images/currency/riyal.png',
      'font': 'NotoSansArabic',
      'culturalImage': 'assets/images/culture/arabic_culture.jpg',
    },
    'de': {
      'flag': 'assets/images/flags/germany.png',
      'greeting': 'assets/images/greetings/hallo_de.png',
      'currency': 'assets/images/currency/euro.png',
      'font': 'Roboto',
      'culturalImage': 'assets/images/culture/german_culture.jpg',
    },
  };

  static const Map<String, Map<String, String>> _texts = {
    'en': {
      'title': 'Cultural Assets',
      'description': 'Assets change based on your locale',
      'flag_label': 'Country Flag',
      'greeting_label': 'Greeting Image',
      'currency_label': 'Currency Symbol',
      'font_label': 'Font Family',
      'cultural_label': 'Cultural Image',
    },
    'es': {
      'title': 'Activos Culturales',
      'description': 'Los recursos cambian según su configuración regional',
      'flag_label': 'Bandera del País',
      'greeting_label': 'Imagen de Saludo',
      'currency_label': 'Símbolo de Moneda',
      'font_label': 'Familia de Fuentes',
      'cultural_label': 'Imagen Cultural',
    },
    'ja': {
      'title': '文化的アセット',
      'description': 'ロケールに基づいてアセットが変更されます',
      'flag_label': '国旗',
      'greeting_label': '挨拶画像',
      'currency_label': '通貨記号',
      'font_label': 'フォントファミリー',
      'cultural_label': '文化的画像',
    },
    'ar': {
      'title': 'الأصول الثقافية',
      'description': 'تتغير الأصول بناءً على اللغة المحلية',
      'flag_label': 'علم الدولة',
      'greeting_label': 'صورة التحية',
      'currency_label': 'رمز العملة',
      'font_label': 'عائلة الخط',
      'cultural_label': 'صورة ثقافية',
    },
    'de': {
      'title': 'Kulturelle Assets',
      'description': 'Assets ändern sich basierend auf Ihrem Gebietsschema',
      'flag_label': 'Länderflagge',
      'greeting_label': 'Begrüßungsbild',
      'currency_label': 'Währungssymbol',
      'font_label': 'Schriftfamilie',
      'cultural_label': 'Kulturbild',
    },
  };

  String _getAssetPath(String assetType, String languageCode) {
    return _assets[languageCode]?[assetType] ?? 
           _assets['en']![assetType]!;
  }

  String _getText(String key, String languageCode) {
    return _texts[languageCode]?[key] ?? _texts['en']![key]!;
  }

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);
    final languageCode = locale.languageCode;
    
    return Scaffold(
      appBar: AppBar(
        title: Text(_getText('title', languageCode)),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Card(
              child: Padding(
                padding: const EdgeInsets.all(16.0),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      _getText('description', languageCode),
                      style: Theme.of(context).textTheme.titleMedium,
                    ),
                    const SizedBox(height: 8),
                    Text('Current Locale: ${locale.toString()}'),
                    Text('Language: ${locale.languageCode}'),
                    Text('Country: ${locale.countryCode ?? "N/A"}'),
                  ],
                ),
              ),
            ),
            const SizedBox(height: 20),
            _buildAssetCard(
              _getText('flag_label', languageCode),
              _getAssetPath('flag', languageCode),
              context,
            ),
            const SizedBox(height: 16),
            _buildAssetCard(
              _getText('greeting_label', languageCode),
              _getAssetPath('greeting', languageCode),
              context,
            ),
            const SizedBox(height: 16),
            _buildAssetCard(
              _getText('currency_label', languageCode),
              _getAssetPath('currency', languageCode),
              context,
            ),
            const SizedBox(height: 16),
            _buildFontCard(
              _getText('font_label', languageCode),
              _getAssetPath('font', languageCode),
              languageCode,
            ),
            const SizedBox(height: 16),
            _buildAssetCard(
              _getText('cultural_label', languageCode),
              _getAssetPath('culturalImage', languageCode),
              context,
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildAssetCard(String title, String assetPath, BuildContext context) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              title,
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 12),
            Container(
              width: double.infinity,
              height: 120,
              decoration: BoxDecoration(
                border: Border.all(color: Colors.grey[300]!),
                borderRadius: BorderRadius.circular(8),
                color: Colors.grey[100],
              ),
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  Icon(
                    Icons.image,
                    size: 48,
                    color: Colors.grey[600],
                  ),
                  const SizedBox(height: 8),
                  Text(
                    'Image would load from:',
                    style: TextStyle(
                      fontSize: 12,
                      color: Colors.grey[600],
                    ),
                  ),
                  Text(
                    assetPath,
                    style: TextStyle(
                      fontSize: 11,
                      fontFamily: 'monospace',
                      color: Colors.grey[600],
                    ),
                  ),
                ],
              ),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildFontCard(String title, String fontFamily, String languageCode) {
    final sampleTexts = {
      'en': 'The quick brown fox jumps over the lazy dog',
      'es': 'El rápido zorro marrón salta sobre el perro perezoso',
      'ja': 'すばやい茶色のキツネが怠惰な犬を飛び越える',
      'ar': 'الثعلب البني السريع يقفز فوق الكلب الكسول',
      'de': 'Der schnelle braune Fuchs springt über den faulen Hund',
    };

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              title,
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 12),
            Container(
              width: double.infinity,
              padding: const EdgeInsets.all(16),
              decoration: BoxDecoration(
                border: Border.all(color: Colors.grey[300]!),
                borderRadius: BorderRadius.circular(8),
                color: Colors.grey[50],
              ),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text(
                    'Font Family: $fontFamily',
                    style: const TextStyle(
                      fontWeight: FontWeight.bold,
                      fontSize: 14,
                    ),
                  ),
                  const SizedBox(height: 8),
                  Text(
                    sampleTexts[languageCode] ?? sampleTexts['en']!,
                    style: TextStyle(
                      fontFamily: fontFamily,
                      fontSize: 16,
                    ),
                  ),
                ],
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

Locale-aware asset loading allows your app to display culturally  
appropriate content. This includes using region-specific images,  
appropriate fonts for different scripts, currency symbols, and  
cultural references that resonate with local users. The asset  
paths are dynamically selected based on the current locale.

## Context-Aware Translations

Implementing context-sensitive translations where the same word  
can have different meanings based on the usage context.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Context-Aware Translations',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en'),
        Locale('es'),
        Locale('fr'),
        Locale('de'),
        Locale('ja'),
      ],
      home: ContextAwareExample(onLocaleChange: _changeLocale),
    );
  }
}

class ContextAwareExample extends StatefulWidget {
  final Function(Locale) onLocaleChange;

  const ContextAwareExample({
    super.key,
    required this.onLocaleChange,
  });

  @override
  State<ContextAwareExample> createState() => _ContextAwareExampleState();
}

class _ContextAwareExampleState extends State<ContextAwareExample> {
  String _selectedContext = 'general';

  static const Map<Locale, String> _localeNames = {
    Locale('en'): '🇺🇸 English',
    Locale('es'): '🇪🇸 Spanish', 
    Locale('fr'): '🇫🇷 French',
    Locale('de'): '🇩🇪 German',
    Locale('ja'): '🇯🇵 Japanese',
  };

  // Context-aware translations
  static const Map<String, Map<String, Map<String, String>>> _translations = {
    'en': {
      'close': {
        'general': 'Close',
        'door_window': 'Close (shut)',
        'relationship': 'Close (intimate)',
        'distance': 'Close (nearby)',
        'business': 'Close (end operations)',
        'computer': 'Close (application)',
      },
      'bank': {
        'general': 'Bank',
        'financial': 'Bank (financial institution)',
        'river': 'Bank (river side)',
        'savings': 'Bank (save money)',
        'memory': 'Bank (memory storage)',
      },
      'light': {
        'general': 'Light',
        'illumination': 'Light (brightness)',
        'weight': 'Light (not heavy)',
        'color': 'Light (pale color)',
        'fire': 'Light (ignite)',
        'easy': 'Light (easy task)',
      },
      'play': {
        'general': 'Play',
        'game': 'Play (game)',
        'music': 'Play (music)',
        'theater': 'Play (theater performance)',
        'sports': 'Play (sports)',
        'role': 'Play (act as)',
      },
    },
    'es': {
      'close': {
        'general': 'Cerrar',
        'door_window': 'Cerrar (puerta/ventana)',
        'relationship': 'Cercano (íntimo)',
        'distance': 'Cerca (proximidad)',
        'business': 'Cerrar (negocio)',
        'computer': 'Cerrar (aplicación)',
      },
      'bank': {
        'general': 'Banco',
        'financial': 'Banco (institución financiera)',
        'river': 'Orilla (del río)',
        'savings': 'Depositar (dinero)',
        'memory': 'Banco (de memoria)',
      },
      'light': {
        'general': 'Luz',
        'illumination': 'Luz (iluminación)',
        'weight': 'Ligero (peso)',
        'color': 'Claro (color)',
        'fire': 'Encender',
        'easy': 'Fácil (tarea)',
      },
      'play': {
        'general': 'Jugar',
        'game': 'Jugar (juego)',
        'music': 'Tocar (música)',
        'theater': 'Obra (de teatro)',
        'sports': 'Jugar (deportes)',
        'role': 'Interpretar (papel)',
      },
    },
    'fr': {
      'close': {
        'general': 'Fermer',
        'door_window': 'Fermer (porte/fenêtre)',
        'relationship': 'Proche (intime)',
        'distance': 'Proche (distance)',
        'business': 'Fermer (entreprise)',
        'computer': 'Fermer (application)',
      },
      'bank': {
        'general': 'Banque',
        'financial': 'Banque (institution financière)',
        'river': 'Rive (de rivière)',
        'savings': 'Déposer (argent)',
        'memory': 'Banque (mémoire)',
      },
      'light': {
        'general': 'Lumière',
        'illumination': 'Lumière (éclairage)',
        'weight': 'Léger (poids)',
        'color': 'Clair (couleur)',
        'fire': 'Allumer',
        'easy': 'Facile (tâche)',
      },
      'play': {
        'general': 'Jouer',
        'game': 'Jouer (jeu)',
        'music': 'Jouer (musique)',
        'theater': 'Pièce (de théâtre)',
        'sports': 'Jouer (sport)',
        'role': 'Jouer (rôle)',
      },
    },
  };

  String _getTranslation(String word, String context, String languageCode) {
    return _translations[languageCode]?[word]?[context] ?? 
           _translations['en']?[word]?[context] ?? 
           word;
  }

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);
    final languageCode = locale.languageCode;

    return Scaffold(
      appBar: AppBar(
        title: const Text('Context-Aware Translations'),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: widget.onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildExplanationCard(),
            const SizedBox(height: 20),
            _buildContextSelector(),
            const SizedBox(height: 20),
            _buildTranslationExamples(languageCode),
          ],
        ),
      ),
    );
  }

  Widget _buildExplanationCard() {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Context-Aware Translations',
              style: Theme.of(context).textTheme.titleLarge,
            ),
            const SizedBox(height: 8),
            const Text(
              'The same word can have different meanings depending on the context. '
              'Select a context below to see how translations adapt.',
              style: TextStyle(fontSize: 14),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildContextSelector() {
    final contexts = {
      'general': 'General Use',
      'door_window': 'Door/Window',
      'relationship': 'Relationship',
      'distance': 'Distance/Location',
      'business': 'Business',
      'computer': 'Computer/Technology',
      'financial': 'Financial',
      'river': 'Geography/Nature',
      'savings': 'Money/Savings',
      'memory': 'Technology/Memory',
      'illumination': 'Light/Brightness',
      'weight': 'Physical Weight',
      'color': 'Color/Appearance',
      'fire': 'Fire/Ignition',
      'easy': 'Difficulty Level',
      'game': 'Games/Recreation',
      'music': 'Music/Audio',
      'theater': 'Theater/Performance',
      'sports': 'Sports/Physical Activity',
      'role': 'Acting/Role Playing',
    };

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Select Context',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 12),
            DropdownButtonFormField<String>(
              value: _selectedContext,
              decoration: const InputDecoration(
                border: OutlineInputBorder(),
                contentPadding: EdgeInsets.symmetric(
                  horizontal: 12,
                  vertical: 8,
                ),
              ),
              items: contexts.entries.map((entry) {
                return DropdownMenuItem<String>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList(),
              onChanged: (value) {
                if (value != null) {
                  setState(() {
                    _selectedContext = value;
                  });
                }
              },
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildTranslationExamples(String languageCode) {
    final words = ['close', 'bank', 'light', 'play'];

    return Column(
      children: words.map((word) {
        final translation = _getTranslation(word, _selectedContext, languageCode);
        final isRelevant = _translations['en']?[word]?.containsKey(_selectedContext) ?? false;

        return Card(
          margin: const EdgeInsets.only(bottom: 12),
          child: Padding(
            padding: const EdgeInsets.all(16.0),
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Row(
                  children: [
                    Text(
                      word.toUpperCase(),
                      style: const TextStyle(
                        fontSize: 18,
                        fontWeight: FontWeight.bold,
                        letterSpacing: 1.2,
                      ),
                    ),
                    const Spacer(),
                    Container(
                      padding: const EdgeInsets.symmetric(
                        horizontal: 8,
                        vertical: 4,
                      ),
                      decoration: BoxDecoration(
                        color: isRelevant ? Colors.green[100] : Colors.grey[100],
                        borderRadius: BorderRadius.circular(12),
                      ),
                      child: Text(
                        isRelevant ? 'Contextual' : 'General',
                        style: TextStyle(
                          fontSize: 12,
                          color: isRelevant ? Colors.green[800] : Colors.grey[600],
                          fontWeight: FontWeight.w500,
                        ),
                      ),
                    ),
                  ],
                ),
                const SizedBox(height: 12),
                Container(
                  width: double.infinity,
                  padding: const EdgeInsets.all(16),
                  decoration: BoxDecoration(
                    color: Colors.blue[50],
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(color: Colors.blue[200]!),
                  ),
                  child: Text(
                    translation,
                    style: const TextStyle(
                      fontSize: 20,
                      fontWeight: FontWeight.w500,
                    ),
                  ),
                ),
                if (isRelevant) ...[
                  const SizedBox(height: 8),
                  Text(
                    'Context-specific translation applied',
                    style: TextStyle(
                      fontSize: 12,
                      color: Colors.green[700],
                      fontStyle: FontStyle.italic,
                    ),
                  ),
                ] else ...[
                  const SizedBox(height: 8),
                  Text(
                    'Using general translation (context not applicable)',
                    style: TextStyle(
                      fontSize: 12,
                      color: Colors.grey[600],
                      fontStyle: FontStyle.italic,
                    ),
                  ),
                ],
              ],
            ),
          ),
        );
      }).toList(),
    );
  }
}
```

Context-aware translations recognize that many words have multiple meanings  
depending on their usage context. For example, "close" can mean shutting  
a door, being physically near, or ending business operations. This system  
maps contexts to appropriate translations, ensuring users see the most  
relevant meaning for each situation.

## Dynamic Translation Loading

Loading translations dynamically from remote servers or local files  
to enable real-time content updates without app store releases.  

```dart
import 'dart:convert';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Dynamic Translations',
      locale: _currentLocale,
      localizationsDelegates: const [
        DynamicLocalizationsDelegate(),
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en'),
        Locale('es'),
        Locale('fr'),
        Locale('de'),
      ],
      home: DynamicTranslationExample(onLocaleChange: _changeLocale),
    );
  }
}

class DynamicLocalizations {
  final Locale locale;
  Map<String, String> _translations = {};
  bool _isLoaded = false;

  DynamicLocalizations(this.locale);

  static DynamicLocalizations? of(BuildContext context) {
    return Localizations.of<DynamicLocalizations>(context, DynamicLocalizations);
  }

  Future<void> load() async {
    if (_isLoaded) return;
    
    try {
      // Simulate loading from remote server or local file
      final jsonString = await rootBundle.loadString(
        'assets/translations/${locale.languageCode}.json',
      );
      final Map<String, dynamic> jsonMap = json.decode(jsonString);
      
      _translations = Map<String, String>.from(jsonMap);
      _isLoaded = true;
    } catch (e) {
      // Fallback to embedded translations if file loading fails
      await _loadFallbackTranslations();
    }
  }

  Future<void> _loadFallbackTranslations() async {
    _translations = _getFallbackTranslations()[locale.languageCode] ?? 
                   _getFallbackTranslations()['en']!;
    _isLoaded = true;
  }

  Map<String, Map<String, String>> _getFallbackTranslations() {
    return {
      'en': {
        'app_title': 'Dynamic Translations',
        'loading': 'Loading translations...',
        'reload_button': 'Reload Translations',
        'status_loaded': 'Translations loaded successfully',
        'status_error': 'Error loading translations',
        'welcome_title': 'Welcome!',
        'welcome_message': 'This app loads translations dynamically',
        'feature_1': 'Real-time translation updates',
        'feature_2': 'No app store updates needed',
        'feature_3': 'Flexible content management',
        'last_updated': 'Last updated',
        'version': 'Translation version',
        'source': 'Translation source',
        'refresh': 'Refresh Content',
      },
      'es': {
        'app_title': 'Traducciones Dinámicas',
        'loading': 'Cargando traducciones...',
        'reload_button': 'Recargar Traducciones',
        'status_loaded': 'Traducciones cargadas exitosamente',
        'status_error': 'Error al cargar traducciones',
        'welcome_title': '¡Bienvenido!',
        'welcome_message': 'Esta aplicación carga traducciones dinámicamente',
        'feature_1': 'Actualizaciones de traducción en tiempo real',
        'feature_2': 'No se necesitan actualizaciones de la tienda de apps',
        'feature_3': 'Gestión de contenido flexible',
        'last_updated': 'Última actualización',
        'version': 'Versión de traducción',
        'source': 'Fuente de traducción',
        'refresh': 'Actualizar Contenido',
      },
      'fr': {
        'app_title': 'Traductions Dynamiques',
        'loading': 'Chargement des traductions...',
        'reload_button': 'Recharger les Traductions',
        'status_loaded': 'Traductions chargées avec succès',
        'status_error': 'Erreur lors du chargement des traductions',
        'welcome_title': 'Bienvenue !',
        'welcome_message': 'Cette app charge les traductions dynamiquement',
        'feature_1': 'Mises à jour de traduction en temps réel',
        'feature_2': 'Aucune mise à jour d\'app store nécessaire',
        'feature_3': 'Gestion de contenu flexible',
        'last_updated': 'Dernière mise à jour',
        'version': 'Version de traduction',
        'source': 'Source de traduction',
        'refresh': 'Actualiser le Contenu',
      },
      'de': {
        'app_title': 'Dynamische Übersetzungen',
        'loading': 'Lade Übersetzungen...',
        'reload_button': 'Übersetzungen Neu Laden',
        'status_loaded': 'Übersetzungen erfolgreich geladen',
        'status_error': 'Fehler beim Laden der Übersetzungen',
        'welcome_title': 'Willkommen!',
        'welcome_message': 'Diese App lädt Übersetzungen dynamisch',
        'feature_1': 'Echtzeit-Übersetzungsupda1tes',
        'feature_2': 'Keine App Store Updates erforderlich',
        'feature_3': 'Flexible Content-Verwaltung',
        'last_updated': 'Zuletzt aktualisiert',
        'version': 'Übersetzungsversion',
        'source': 'Übersetzungsquelle',
        'refresh': 'Inhalt Aktualisieren',
      },
    };
  }

  String translate(String key) {
    return _translations[key] ?? key;
  }

  bool get isLoaded => _isLoaded;

  Future<void> reload() async {
    _isLoaded = false;
    _translations.clear();
    await load();
  }
}

class DynamicLocalizationsDelegate extends LocalizationsDelegate<DynamicLocalizations> {
  const DynamicLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) {
    return ['en', 'es', 'fr', 'de'].contains(locale.languageCode);
  }

  @override
  Future<DynamicLocalizations> load(Locale locale) async {
    final localizations = DynamicLocalizations(locale);
    await localizations.load();
    return localizations;
  }

  @override
  bool shouldReload(DynamicLocalizationsDelegate old) => false;
}

class DynamicTranslationExample extends StatefulWidget {
  final Function(Locale) onLocaleChange;

  const DynamicTranslationExample({
    super.key,
    required this.onLocaleChange,
  });

  @override
  State<DynamicTranslationExample> createState() => _DynamicTranslationExampleState();
}

class _DynamicTranslationExampleState extends State<DynamicTranslationExample> {
  bool _isReloading = false;
  DateTime _lastUpdated = DateTime.now();

  static const Map<Locale, String> _localeNames = {
    Locale('en'): '🇺🇸 English',
    Locale('es'): '🇪🇸 Spanish',
    Locale('fr'): '🇫🇷 French',
    Locale('de'): '🇩🇪 German',
  };

  Future<void> _reloadTranslations() async {
    setState(() => _isReloading = true);
    
    try {
      final localizations = DynamicLocalizations.of(context);
      await localizations?.reload();
      setState(() {
        _lastUpdated = DateTime.now();
      });
      
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text(
              localizations?.translate('status_loaded') ?? 'Translations reloaded'
            ),
            backgroundColor: Colors.green,
          ),
        );
      }
    } catch (e) {
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text(
              DynamicLocalizations.of(context)?.translate('status_error') ?? 
              'Error reloading translations'
            ),
            backgroundColor: Colors.red,
          ),
        );
      }
    } finally {
      if (mounted) {
        setState(() => _isReloading = false);
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    final localizations = DynamicLocalizations.of(context);
    final currentLocale = Localizations.localeOf(context);

    if (localizations == null || !localizations.isLoaded) {
      return Scaffold(
        appBar: AppBar(title: const Text('Loading...')),
        body: const Center(
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            children: [
              CircularProgressIndicator(),
              SizedBox(height: 16),
              Text('Loading translations...'),
            ],
          ),
        ),
      );
    }

    return Scaffold(
      appBar: AppBar(
        title: Text(localizations.translate('app_title')),
        actions: [
          IconButton(
            icon: _isReloading 
                ? const SizedBox(
                    width: 20,
                    height: 20,
                    child: CircularProgressIndicator(strokeWidth: 2),
                  )
                : const Icon(Icons.refresh),
            onPressed: _isReloading ? null : _reloadTranslations,
            tooltip: localizations.translate('refresh'),
          ),
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: widget.onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildWelcomeCard(localizations),
            const SizedBox(height: 20),
            _buildFeaturesCard(localizations),
            const SizedBox(height: 20),
            _buildStatusCard(localizations, currentLocale),
            const SizedBox(height: 20),
            _buildActionButton(localizations),
          ],
        ),
      ),
    );
  }

  Widget _buildWelcomeCard(DynamicLocalizations localizations) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              localizations.translate('welcome_title'),
              style: const TextStyle(fontSize: 24, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 8),
            Text(
              localizations.translate('welcome_message'),
              style: const TextStyle(fontSize: 16),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildFeaturesCard(DynamicLocalizations localizations) {
    final features = [
      localizations.translate('feature_1'),
      localizations.translate('feature_2'),
      localizations.translate('feature_3'),
    ];

    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            const Text(
              'Features',
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 12),
            ...features.map((feature) => Padding(
              padding: const EdgeInsets.symmetric(vertical: 4.0),
              child: Row(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  const Icon(Icons.check_circle, color: Colors.green, size: 20),
                  const SizedBox(width: 8),
                  Expanded(child: Text(feature)),
                ],
              ),
            )),
          ],
        ),
      ),
    );
  }

  Widget _buildStatusCard(DynamicLocalizations localizations, Locale locale) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            const Text(
              'Translation Status',
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 12),
            _buildStatusRow(
              localizations.translate('version'),
              '1.0.0',
            ),
            _buildStatusRow(
              localizations.translate('source'),
              'Embedded fallback',
            ),
            _buildStatusRow(
              localizations.translate('last_updated'),
              '${_lastUpdated.hour}:${_lastUpdated.minute.toString().padLeft(2, '0')}',
            ),
            _buildStatusRow(
              'Locale',
              '${locale.languageCode.toUpperCase()} (${locale.languageCode})',
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildStatusRow(String label, String value) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 4.0),
      child: Row(
        children: [
          SizedBox(
            width: 120,
            child: Text(
              '$label:',
              style: const TextStyle(fontWeight: FontWeight.w500),
            ),
          ),
          Expanded(
            child: Text(
              value,
              style: const TextStyle(fontFamily: 'monospace'),
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildActionButton(DynamicLocalizations localizations) {
    return SizedBox(
      width: double.infinity,
      child: ElevatedButton.icon(
        onPressed: _isReloading ? null : _reloadTranslations,
        icon: _isReloading 
            ? const SizedBox(
                width: 16,
                height: 16,
                child: CircularProgressIndicator(strokeWidth: 2),
              )
            : const Icon(Icons.refresh),
        label: Text(
          _isReloading 
              ? localizations.translate('loading')
              : localizations.translate('reload_button'),
        ),
        style: ElevatedButton.styleFrom(
          padding: const EdgeInsets.all(16),
        ),
      ),
    );
  }
}
```

Dynamic translation loading enables real-time content updates without  
requiring app store releases. This approach is particularly valuable  
for frequently changing content, A/B testing translations, or making  
quick corrections. The system gracefully falls back to embedded  
translations if remote loading fails, ensuring app reliability.

## Locale-Aware Input Methods

Handling different input methods, keyboard layouts, and text input  
conventions for various languages and regions.  

```dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  Locale _currentLocale = const Locale('en');

  void _changeLocale(Locale newLocale) {
    setState(() {
      _currentLocale = newLocale;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Locale-Aware Input Methods',
      locale: _currentLocale,
      localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
      ],
      supportedLocales: const [
        Locale('en', 'US'),
        Locale('ja', 'JP'),
        Locale('ar', 'SA'),
        Locale('hi', 'IN'),
        Locale('zh', 'CN'),
        Locale('ko', 'KR'),
        Locale('th', 'TH'),
        Locale('he', 'IL'),
      ],
      home: InputMethodExample(onLocaleChange: _changeLocale),
    );
  }
}

class InputMethodExample extends StatefulWidget {
  final Function(Locale) onLocaleChange;

  const InputMethodExample({
    super.key,
    required this.onLocaleChange,
  });

  @override
  State<InputMethodExample> createState() => _InputMethodExampleState();
}

class _InputMethodExampleState extends State<InputMethodExample> {
  final Map<String, TextEditingController> _controllers = {};
  final Map<String, FocusNode> _focusNodes = {};

  static const Map<Locale, String> _localeNames = {
    Locale('en', 'US'): '🇺🇸 English',
    Locale('ja', 'JP'): '🇯🇵 Japanese',
    Locale('ar', 'SA'): '🇸🇦 Arabic',
    Locale('hi', 'IN'): '🇮🇳 Hindi',
    Locale('zh', 'CN'): '🇨🇳 Chinese',
    Locale('ko', 'KR'): '🇰🇷 Korean',
    Locale('th', 'TH'): '🇹🇭 Thai',
    Locale('he', 'IL'): '🇮🇱 Hebrew',
  };

  @override
  void initState() {
    super.initState();
    _initializeControllers();
  }

  @override
  void dispose() {
    _controllers.values.forEach((controller) => controller.dispose());
    _focusNodes.values.forEach((node) => node.dispose());
    super.dispose();
  }

  void _initializeControllers() {
    final fields = [
      'name', 'email', 'phone', 'address', 'search', 'multiline'
    ];
    
    for (final field in fields) {
      _controllers[field] = TextEditingController();
      _focusNodes[field] = FocusNode();
    }
  }

  TextInputType _getKeyboardType(String field, String languageCode) {
    switch (field) {
      case 'email':
        return TextInputType.emailAddress;
      case 'phone':
        return TextInputType.phone;
      case 'address':
        return TextInputType.streetAddress;
      case 'multiline':
        return TextInputType.multiline;
      case 'search':
        return TextInputType.text;
      default:
        // Different keyboard types based on language
        switch (languageCode) {
          case 'ja':
          case 'zh':
          case 'ko':
          case 'th':
          case 'hi':
            return TextInputType.text; // IME enabled automatically
          case 'ar':
          case 'he':
            return TextInputType.text; // RTL text input
          default:
            return TextInputType.name;
        }
    }
  }

  TextInputAction _getTextInputAction(String field) {
    switch (field) {
      case 'multiline':
        return TextInputAction.newline;
      case 'search':
        return TextInputAction.search;
      case 'address':
        return TextInputAction.done;
      default:
        return TextInputAction.next;
    }
  }

  List<TextInputFormatter> _getInputFormatters(String field, String languageCode) {
    switch (field) {
      case 'phone':
        return [
          FilteringTextInputFormatter.allow(RegExp(r'[\d\s\-\+\(\)]')),
          LengthLimitingTextInputFormatter(20),
        ];
      case 'email':
        return [
          FilteringTextInputFormatter.deny(RegExp(r'\s')),
          LengthLimitingTextInputFormatter(100),
        ];
      case 'name':
        switch (languageCode) {
          case 'ja':
          case 'zh':
          case 'ko':
          case 'th':
          case 'hi':
            return [LengthLimitingTextInputFormatter(50)];
          case 'ar':
          case 'he':
            return [
              LengthLimitingTextInputFormatter(50),
              // RTL languages may need special formatting
            ];
          default:
            return [
              FilteringTextInputFormatter.allow(RegExp(r'[a-zA-Z\s]')),
              LengthLimitingTextInputFormatter(50),
            ];
        }
      default:
        return [];
    }
  }

  String _getHintText(String field, String languageCode) {
    final hints = {
      'en': {
        'name': 'Enter your name',
        'email': 'Enter email address',
        'phone': 'Enter phone number',
        'address': 'Enter your address',
        'search': 'Search...',
        'multiline': 'Enter multiple lines of text',
      },
      'ja': {
        'name': '名前を入力してください',
        'email': 'メールアドレスを入力',
        'phone': '電話番号を入力',
        'address': '住所を入力してください',
        'search': '検索...',
        'multiline': '複数行のテキストを入力',
      },
      'ar': {
        'name': 'أدخل اسمك',
        'email': 'أدخل عنوان البريد الإلكتروني',
        'phone': 'أدخل رقم الهاتف',
        'address': 'أدخل عنوانك',
        'search': 'بحث...',
        'multiline': 'أدخل نص متعدد الأسطر',
      },
      'hi': {
        'name': 'अपना नाम दर्ज करें',
        'email': 'ईमेल पता दर्ज करें',
        'phone': 'फ़ोन नंबर दर्ज करें',
        'address': 'अपना पता दर्ज करें',
        'search': 'खोजें...',
        'multiline': 'बहु-पंक्ति पाठ दर्ज करें',
      },
      'zh': {
        'name': '输入您的姓名',
        'email': '输入电子邮件地址',
        'phone': '输入电话号码',
        'address': '输入您的地址',
        'search': '搜索...',
        'multiline': '输入多行文本',
      },
    };

    return hints[languageCode]?[field] ?? hints['en']![field]!;
  }

  @override
  Widget build(BuildContext context) {
    final locale = Localizations.localeOf(context);
    final languageCode = locale.languageCode;
    final isRTL = Directionality.of(context) == TextDirection.rtl;

    return Scaffold(
      appBar: AppBar(
        title: const Text('Input Methods'),
        actions: [
          PopupMenuButton<Locale>(
            icon: const Icon(Icons.language),
            onSelected: widget.onLocaleChange,
            itemBuilder: (context) {
              return _localeNames.entries.map((entry) {
                return PopupMenuItem<Locale>(
                  value: entry.key,
                  child: Text(entry.value),
                );
              }).toList();
            },
          ),
        ],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            _buildLocaleInfoCard(locale, isRTL),
            const SizedBox(height: 20),
            _buildInputForm(languageCode, isRTL),
            const SizedBox(height: 20),
            _buildInputMethodInfo(languageCode),
          ],
        ),
      ),
    );
  }

  Widget _buildLocaleInfoCard(Locale locale, bool isRTL) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Input Configuration',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 8),
            Text('Locale: ${locale.toString()}'),
            Text('Language: ${locale.languageCode}'),
            Text('Direction: ${isRTL ? "RTL" : "LTR"}'),
            Text('Script: ${_getScriptName(locale.languageCode)}'),
          ],
        ),
      ),
    );
  }

  String _getScriptName(String languageCode) {
    switch (languageCode) {
      case 'ar': return 'Arabic';
      case 'he': return 'Hebrew';
      case 'hi': return 'Devanagari';
      case 'ja': return 'Hiragana/Katakana/Kanji';
      case 'zh': return 'Chinese characters';
      case 'ko': return 'Hangul';
      case 'th': return 'Thai';
      default: return 'Latin';
    }
  }

  Widget _buildInputForm(String languageCode, bool isRTL) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Input Fields',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 16),
            ..._buildInputFields(languageCode, isRTL),
          ],
        ),
      ),
    );
  }

  List<Widget> _buildInputFields(String languageCode, bool isRTL) {
    final fields = [
      {'key': 'name', 'label': 'Name', 'maxLines': 1},
      {'key': 'email', 'label': 'Email', 'maxLines': 1},
      {'key': 'phone', 'label': 'Phone', 'maxLines': 1},
      {'key': 'address', 'label': 'Address', 'maxLines': 1},
      {'key': 'search', 'label': 'Search', 'maxLines': 1},
      {'key': 'multiline', 'label': 'Notes', 'maxLines': 3},
    ];

    return fields.map((field) {
      final key = field['key'] as String;
      final label = field['label'] as String;
      final maxLines = field['maxLines'] as int;

      return Padding(
        padding: const EdgeInsets.only(bottom: 16.0),
        child: TextField(
          controller: _controllers[key],
          focusNode: _focusNodes[key],
          keyboardType: _getKeyboardType(key, languageCode),
          textInputAction: _getTextInputAction(key),
          inputFormatters: _getInputFormatters(key, languageCode),
          maxLines: maxLines,
          textDirection: isRTL ? TextDirection.rtl : TextDirection.ltr,
          decoration: InputDecoration(
            labelText: label,
            hintText: _getHintText(key, languageCode),
            border: const OutlineInputBorder(),
            suffixIcon: _getSuffixIcon(key),
          ),
          onSubmitted: (value) {
            // Handle different submit actions
            if (key == 'search') {
              _performSearch(value);
            } else {
              _focusNextField(key);
            }
          },
        ),
      );
    }).toList();
  }

  Widget? _getSuffixIcon(String key) {
    switch (key) {
      case 'search':
        return const Icon(Icons.search);
      case 'email':
        return const Icon(Icons.email);
      case 'phone':
        return const Icon(Icons.phone);
      case 'address':
        return const Icon(Icons.location_on);
      default:
        return null;
    }
  }

  void _focusNextField(String currentKey) {
    final fields = ['name', 'email', 'phone', 'address', 'search', 'multiline'];
    final currentIndex = fields.indexOf(currentKey);
    if (currentIndex >= 0 && currentIndex < fields.length - 1) {
      final nextKey = fields[currentIndex + 1];
      _focusNodes[nextKey]?.requestFocus();
    }
  }

  void _performSearch(String query) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('Searching for: $query')),
    );
  }

  Widget _buildInputMethodInfo(String languageCode) {
    final info = _getInputMethodInfo(languageCode);
    
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16.0),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Input Method Information',
              style: Theme.of(context).textTheme.titleMedium,
            ),
            const SizedBox(height: 12),
            ...info.entries.map((entry) => Padding(
              padding: const EdgeInsets.symmetric(vertical: 4.0),
              child: Row(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  SizedBox(
                    width: 120,
                    child: Text(
                      '${entry.key}:',
                      style: const TextStyle(fontWeight: FontWeight.w500),
                    ),
                  ),
                  Expanded(child: Text(entry.value)),
                ],
              ),
            )),
          ],
        ),
      ),
    );
  }

  Map<String, String> _getInputMethodInfo(String languageCode) {
    switch (languageCode) {
      case 'ja':
        return {
          'IME': 'Japanese Input Method',
          'Scripts': 'Hiragana, Katakana, Kanji',
          'Features': 'Automatic conversion, Predictive text',
          'Special Keys': 'Conversion, Selection',
        };
      case 'zh':
        return {
          'IME': 'Chinese Input Method',
          'Scripts': 'Simplified/Traditional Chinese',
          'Features': 'Pinyin, Stroke input, Predictive text',
          'Special Keys': 'Conversion, Character selection',
        };
      case 'ko':
        return {
          'IME': 'Korean Input Method',
          'Scripts': 'Hangul',
          'Features': 'Syllable composition, Predictive text',
          'Special Keys': 'Composition, Selection',
        };
      case 'ar':
        return {
          'IME': 'Arabic Input Method',
          'Scripts': 'Arabic script',
          'Features': 'RTL input, Contextual shaping',
          'Special Keys': 'Direction controls',
        };
      case 'hi':
        return {
          'IME': 'Hindi Input Method',
          'Scripts': 'Devanagari',
          'Features': 'Transliteration, Conjunct formation',
          'Special Keys': 'Vowel marks, Conjuncts',
        };
      case 'th':
        return {
          'IME': 'Thai Input Method',
          'Scripts': 'Thai script',
          'Features': 'Tone marks, Vowel positioning',
          'Special Keys': 'Tone marks, Special characters',
        };
      case 'he':
        return {
          'IME': 'Hebrew Input Method',
          'Scripts': 'Hebrew script',
          'Features': 'RTL input, Nikud support',
          'Special Keys': 'Direction controls, Vowel points',
        };
      default:
        return {
          'IME': 'Latin Input Method',
          'Scripts': 'Latin alphabet',
          'Features': 'Auto-correction, Suggestions',
          'Special Keys': 'Standard keyboard',
        };
    }
  }
}
```

Locale-aware input methods ensure that users can comfortably enter text  
in their native languages. This includes proper IME (Input Method Editor)  
support for Asian languages, RTL text input for Arabic and Hebrew,  
appropriate keyboard layouts, and locale-specific input validation.  
The system adapts input behavior to match user expectations.
